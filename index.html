<html>
	<body>

		<h1>Add new input lines to HTML entry form</h1>
		<div id="div1">
			<p>Enable users to add a row of fields to an HTML input form. In this code, after the HTML loads, addForm() is called. Clicking the Add Line button calls a function, addLine(), which calls addField() once for each field in the new input line. The elements, label and input, are formatted using CSS. </p>
			<form id = "form1">
				  Given Name: <input id="givenname" type="text" name="Given Name" label="Given Name">
				  Surname: <input id ="surname" type="text" name="Surname" label="Surname">
				  Sbd: <input id = "sbd" type = "number" name = "Solar Birth Day" label="Solar Birth Day">
				  Sbm: <input id = "sbm" type = "number" name = "Solar Birth Month" label="Solar Birth Month">
				  Sby: <input id = "sby" type = "number" name = "Solar Birth Year" label ="Solar Birth Year">
				  <button type="button" onclick="[document.getElementById('surname').value] = new Person(document.getElementById('givenname').value,
							       document.getElementById('surname').value, document.getElementById('sbm').value,
							       document.getElementById('sbm').value, document.getElementById('sby').value,
							       document.getElementById('country').value);" onclick = "addLine()" ;value="Submit"> Add Person </button>
			</form>

			<select id = "country" name="Country" label="Country" form="form1">
			  <option value="China">China</option>
			  <option value="USA">Usa</option>
			</select>
		</div>
		//<button type="button" onclick="addLine();">Add Line</button>
		<br />
		<br />
		
		
		
		
		<h1>Generate array of objects</h1>
		
		<p>Loop through the HTML form lines and store the data into an array of objects, where each property of an object contains the data in the input field of the HTML entry form. </p>
		
		<button type="button" onclick="genObjectArray();">Generate and Display Array of Objects</button>
		<br />
		
		<div id="div2">
		</div>
		
		<h1>Display table containing data from array of objects</h1>
		
		<p>Loop through the HTML form lines and store the data into an array of objects, where each property of an object contains the data in the input field of the HTML entry form. </p>
		
		<button type="button" onclick="person.object();">Generate and Display Table</button>
		<br />
		<br />
		
		<div id="div3">
		</div>
		
		
		
		<script>
			
		
		/* addField()
		 * inserts one label one input element into a row of a form 
		 */
			function addLine () {
				// precondition: inputWidth global variable must be set
				// precondition: call from addForm() so HTML element with id="fieldset1" exists
				addField("fieldset1", "givenName", "Given", "text", "Jane",inputWidth);
				addField("fieldset1", "surname", "Surname", "text", "Doe", inputWidth);
				addField("fieldset1", "sbd", "Day", "number", "1", inputWidth);
				addField("fieldset1", "sbm", "Month", "number", "1", inputWidth);
				addField("fieldset1", "sby", "Year", "number", "1990", inputWidth);
				addField("fieldset1", "country", "Country", "text", "USA", inputWidth);
				var newelement = document.createElement("br");
				var fieldset1 = document.getElementById("fieldset1");
				fieldset1.appendChild(newelement);
				currentLine++;
}
		function addField(formId, namePrefix, labelText, dataType, placeholder, fieldSize) {
			// precondition: currentLine (global variable) must be set
			// precondition: objArray[] (global variable) must be declared
			// precondition: call from addLine() so HTML element with id=formID exists
			// create a new label element, and append to form (or fieldset)
			var n = document.createElement("label");
			n.setAttribute("for",namePrefix+currentLine);
			var t = document.createTextNode(labelText + " " );
			n.appendChild(t);
			var f = document.getElementById(formId);
			f.appendChild(n);
			if (namePrefix == "country"){
				var n = document.createElement("select");
				n.setAttribute("name",namePrefix+currentLine);
				n.setAttribute("id",namePrefix+currentLine);
				var f = document.getElementById(formId);
				f.appendChild(n);

				var newoption = document.createElement("option");
				newoption.setAttribute("value","USA");
				var textnode = document.createTextNode("USA");
				newoption.appendChild(textnode);
				var s = document.getElementById(namePrefix + currentLine);
				s.appendChild(newoption);

				var newoption = document.createElement("option");
				newoption.setAttribute("value","China");
				var textnode = document.createTextNode("China");
				newoption.appendChild(textnode);
				var s = document.getElementById(namePrefix + currentLine);
				s.appendChild(newoption);
			    }
			else{
			// create a new input element, and append to form
			var n = document.createElement("input");
			n.setAttribute("name",namePrefix+currentLine);
			n.setAttribute("id",namePrefix+currentLine);
			n.setAttribute("type",dataType);
			n.setAttribute("placeholder",placeholder);
			n.setAttribute("size",fieldSize);
			var f = document.getElementById(formId);
			f.appendChild(n);
		}
		}
		var personArr [];
		var arrCounter = 0;
			
		function Person(givenname, surname, sbd, sbm, sby, country) {
		  this.givenname = givenname;
		  this.surname = surname;
		  this.sbd = sbd;
		  this.sbm = sbm;
		  this.sby = sby;
		  this.country;
		  personArr[arrCounter] = this.Person;
		  arrCounter++;
		  this.object = function(){
		    var divContent = "<ol start='0'>";
	     	    objArray.forEach(function(e) {
		    divContent += '<li>';
		    divContent += JSON.stringify(e);
		    divContent += '</li>';
	            });
	            divContent += "</ol>";
	            document.getElementById("div2").innerHTML = divContent;			 
		  }


	
		</script>
		
	</body>
</html>
